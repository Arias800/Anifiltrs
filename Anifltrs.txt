! Title: Anifiltrs — 🍱 Anime streaming & Manga reading
! Expires: 1 days
! Homepage: https://github.com/Karmesinrot/Anifiltrs
! Description: Personal filters for anime streaming

! INCLUDE RESOURCES -------------------------------------------
!#include DAG/DAG.txt
!#include MAL-Sync%20UI.txt
!#include Blur%20Preview%20Thumbnails/Blur%20preview%20thumbnails.txt

! ANNOYANCES & COSMETIC FILTERS -------------------------------
! 9anime Cosmetic Filters
! Cleans up the ui a bit, making it more compact
9anime.*##.text-center.widget

! Kissanime Cosmetic Filters
! removes the annoying message to disable Adblock/uBlock
kissanime.ru##div.rightBox:has(p:has-text(Adblock/uBlock)):if-not(:has(p:not(:has-text(Adblock/uBlock))))
kissanime.ru##.barContent > div > p:has-text(not compatible with Adblock/uBlock)
! Global clearbox padding
kissanime.ru##.clear2, #leftside > br
kissanime.ru##.clear:not(:matches-css(height:0px)):not(:matches-css(height:5px)):not(:matches-css(line-height:23px)):not(:matches-css(height:76px))
! Messages on top of video player
kissanime.ru##div[style*='!important']
! left-over adframes
kissanime.ru##iframe[src^="/ads/"]
kissanime.ru##div[id^=adsIfrme]:not([id=adsIfrme])

! MyAnimeList Cosmetic Filters
! Mal Privacy Policy statement mask when not logged in
myanimelist.net##.root

! kissmanga Cosmetic Filters
! Remove annoying message to disable adblocker
kissmanga.com##div.rightBox:has(p:has-text(Adblock/uBlock)):if-not(:has(p:not(:has-text(Adblock/uBlock))))
kissmanga.com##div.barContent > div > p:has-text(Adblock/uBlock)
! Global clearbox padding
kissmanga.com##.clear2, #leftside > br
kissmanga.com##.clear:not(:matches-css(height:0px)):not(:matches-css(height:5px)):not(:matches-css(height:76px))
! left-over adframes
kissmanga.com##iframe[src^="/ads/"]
kissmanga.com##div[id^=adsIfrme]:not([id=adsIfrme])

! Mangarock Annoyances
! Sticker header
mangarock.com##._2Dq7D:style(position: absolute !important;)
! adtrue iframe
mangarock.com##iframe[src^="/iframe/adtrue"][class="iframe"]:nth-ancestor(1)
! taboola ads
mangarock.com##[id=taboola-homepage-desktop],[id=taboola-article-thumbnails],[id^=taboola][id*=collection],[id^=taboola][id*=vertical]:nth-ancestor(2)
mangarock.com##[id^=taboola][id*=horizontal]:nth-ancestor(1)
! reader ads
mangarock.com##[id$=video]:nth-ancestor(2)

! Gogoanimes Cosmetic filters
! background colour
gogoanimes.*,gogoanime.*##body:style(background-color: #1b1b1b !important;)
! adframe above video player
gogoanimes.*,gogoanime.*##.anime_video_body > div[style="height:250px;overflow:hidden;"]
! ad containers
gogoanimes.*,gogoanime.*##.adsverting.anime_name
gogoanimes.*,gogoanime.*##.headnav_center:has(>.headnav_items)

! Turkanime Cosmetic filters
! sponsored adframes
turkanime.tv##div[class="col-xs-12"]:has-text(SPONSOR REKLAM)

! Otakustream
! Counter icons from being broken by fanboy's annoyances
@@||otakustream.tv/wp-content/plugins/accesspress-social-login-lite/css/font-awesome/font-awesome.min.css$stylesheet,1p
@@||otakustream.tv/wp-content/plugins/accesspress-social-login-lite/css/fonts^$font,1p

! openload.co
! counter script that causes extra clicks to start the video
openload.co##+js(abort-current-inline-script.js, Function.prototype.bind)

! Animeflv
! cosmetic filter for sidebar on video page
animeflv.net##.CpCnC > .WdgtCn:style(margin-top:105px!important;)

! AnimePlanet
! google ads frame container
anime-planet.com##.ad:nth-ancestor(1) [class^="halo"]

! animeultima
! animeultima.eu ads on the sidebar of video page
animeultima.eu##iframe[src="/unit/300"]:nth-ancestor(1)
! cosmetic adjustment after removing ads
animeultima.eu##[style="margin: 0px auto; width: 300px;"]:style(margin-top:-12px!important;)

! Dream Animes
! google ads
dreamanimes.com.br##.adsbygoogle:nth-ancestor(1)

! KISS SITES ELEMETNS BEING HIDDEN/BROKEN ---------------------
! Counter images being hidden
kissmanga.com###divImage:style(display: block !important;margin-top:15px!important;)

! KISSANIME & KISSMANGA Annoynaces --------------------------------------
! AA script diffuse
kissanime.ru,kissmanga.com##^script:has-text(Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini)

! AA Blocking chromium
!##### All filters relating to this block are redundant when using a custom userscript #####
!#if env_chromium
kissanime.ru,kissmanga.com##+js(abort-on-property-write.js, AddCloseButton, InitCloseButton)
kissanime.ru,kissmanga.com##+js(setTimeout-defuser.js, (), 30000)
kissanime.ru##+js(abort-on-property-read.js, HAYNQMAKDASAS)
!#endif

! prevent kissanime wrong captcha loop
kissanime.ru##+js(setTimeout-defuser.js, YASBATMBCL)

! ADS ---------------------------------------------------------
! mangarock reader ads
mangarock.com##+js(setTimeout-defuser.js, /STOP_EVENT|changeAds/)
mangarock.com##+js(set-constant.js, Ads Block.no, true)
mangarock.com##+js(setTimeout-defuser.js, (), 30000)
! mangarock video ads
||playwire.com^$third-party,domain=mangarock.com

! yourupload download rom ad
yourupload.com##.download-roms-button

! kwik CSP filter
||kwik.cx^$csp=script-src 'self' 'unsafe-inline' 'unsafe-eval' cdn.plyr.io cdn.jsdelivr.net blob: 'self'

! prettyfast.to CSP filter
||prettyfast.to^$csp=script-src 'self' 'unsafe-inline' ssl.p.jwpcdn.com *.googleusercontent.com g.jwpsrv.com ajax.googleapis.com blob: 'self'

! PRIVACY -----------------------------------------------------
! mangarock loacation tracker
||mangarock.com/geo$xmlhttprequest,first-party

! HOT FIXES ---------------------------------------------------
! Fix kissanime thumbnails broken by easylist
@@||i.imgur.com^$image,domain=kissanime.ru

! mp4upload ad overlay
mp4upload.com##div :has(div>iframe[src*="/vjs/ada2.html"])
